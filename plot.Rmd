---
title: "Visualization"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(plotly)
library(flexdashboard)
library(tidyverse)
library(p8105.datasets)
```

Column {data-width=650}
-----------------------------------------------------------------------

```{r}
data("ny_noaa")
ny_noaa <- ny_noaa %>%
  filter(!is.na(prcp) & !is.na(snow) & !is.na(snwd) &(snow>0)&(prcp>0)) %>%
  sample_n(10000) # Optional sampling for dashboard speed
names(ny_noaa)
```

### Chart A

```{r}
scatter_ggplot = 
  ny_noaa |>
  ggplot(aes(x = snow, y = prcp, color = snwd)) +
  geom_point(alpha = 0.25) +
  coord_cartesian()

ggplotly(scatter_ggplot)

```

Column {data-width=350}
-----------------------------------------------------------------------

### Chart B

```{r}

ny_noaa %>%
  filter(!is.na(tmax)) %>%
  group_by(year = year(date), month = month(date)) %>%
  summarize(avg_tmax = mean(as.numeric(tmax), na.rm = TRUE), .groups = 'drop') %>%
  plot_ly(x = ~month, y = ~avg_tmax, type = 'scatter', mode = 'lines')


```

### Chart C

```{r}
plot_ly(data = ny_noaa, x = ~month(date), y = ~prcp, type = 'box')
```

